---
title: Role Access Requests
description: Use Just-in-time Access Requests to request new roles with elevated privileges.
h1: Teleport Role Access Requests
version: '15.x'
---

Teleport's Just-in-time Access Requests allow users to request access to
additional roles in order to elevate their privileges. Requests can be escalated
via ChatOps or anywhere else via our flexible Authorization Workflow API.

## Prerequisites

- Access to an Enterprise edition of Teleport running in your environment.

  For information about the differences between Teleport editions, see [Comparing
  editions](/choose-an-edition/introduction#comparing-editions).

- The Enterprise `tctl` admin tool and `tsh` client tool version >= 15.0.0-dev.

  You can verify the tools you have installed by running the following commands:

  ```code
  $ tctl version
  # Teleport Enterprise v15.0.0-dev go1.21

  $ tsh version
  # Teleport v15.0.0-dev go1.21
  ```

  You can download these tools by following the appropriate [Installation
  instructions](/installation#installation-instructions) for your environment and Teleport edition.

- To check that you can connect to your Teleport cluster, sign in with `tsh login`, then
  verify that you can run `tctl` commands using your current credentials.
  `tctl` is supported on macOS and Linux machines.

  For example:
  ```code
  $ tsh login --proxy=teleport.example.com --user=email@example.com
  $ tctl status
  # Cluster  teleport.example.com
  # Version  15.0.0-dev
  # CA pin   sha256:abdc1245efgh5678abdc1245efgh5678abdc1245efgh5678abdc1245efgh5678
  ```
  If you can connect to the cluster and run the `tctl status` command, you can use your
  current credentials to run subsequent `tctl` commands from your workstation.
  If you host your own Teleport cluster, you can also run `tctl` commands on the computer that
  hosts the Teleport Auth Service for full permissions.

## RBAC Setup

In this example, we will define three roles:

- `contractor`: users with this role can request elevated access to the `dba` role
- `dba`: this role grants access to databases
- `approver`: users with this role can approve requests for access to the `dba` role

**Contractor Role**

Users with this role can request access to the `dba` role.

```yaml
kind: role
version: v5
metadata:
  name: contractor
spec:
  allow:
    request:
      roles: ['dba']
```

**DBA Role**

This role grants access to databases.

```yaml
kind: role
version: v5
metadata:
  name: dba
spec:
  allow:
    db_labels:
      '*': '*'
  options:
    # Only allows the contractor to use this role for 1 hour from time of request.
    max_session_ttl: 1h
```

**Approver Role**

This role allows users to approve requests for the `dba` role.

```yaml
kind: role
version: v5
metadata:
  name: approver
spec:
  allow:
    # `review_requests` permits the listed roles to be approved
    review_requests:
      roles:
      - 'dba'
```

<Warning>
  Roles containing a `review_requests` rule can only be used in Teleport
  Enterprise. In Teleport Community Edition, Access Requests must be approved by an admin
  running `tctl` on the Auth Server.
</Warning>

## Requesting Access

While Teleport Enterprise supports the same CLI-based workflows for requesting
access to roles, most users will prefer to request access via the web UI.

To request access to one or more roles, navigate to the access requests page.
You can find this page by selecting **Resources** on the side bar, expanding the
*Access Requests* menu, and selecting **New Request**.

From here, the dropdown will allow you to request access to roles or to specific
resources. Select roles in this dropdown and you will be presented with a list
of roles you are permitted to request access to.

Click **ADD TO REQUEST** to include a role in the pending request.

Note: Access Requests must either contain roles or a set of specific resources.
You can not mix the two. For more information on how to request access to
specific resources, see the
[Resource Access Requests Guide](/access-controls/access-requests/resource-requests).

![New Request](../../../assets/new-role-request-b697d8b8bf.png)

When all desired roles have been added, click **PROCEED TO REQUEST**, where you
can review and submit the request.

![Submit Request](../../../assets/submit-request-99f942d6ba.png)

## Reviewing Access Requests via the Web UI

Reviewers can see a list of open requests by navigating to
**Management** > **Access Requests** > **Review Requests** in the web UI.

<Warning>
  Granting access to a role with the ability to edit other roles could allow a
  user to **permanently** upgrade their privileges. When reviewing requests, it's
  important to carefully consider the role(s) being requested and what permissions
  will be applied to the user if the request is approved.
</Warning>

## Reviewing Access Requests via `tsh`

Teleport Enterprise users with appropriate permissions can also approve requests
with the `tsh` command line:

```code
$ tsh request review --approve <request-id>
```

## Using an approved access request

Once a request has been approved, the requestor can elevate their access for
both command-line workflows and web UI workflows.

For command-line use, the requestor should log in using the approved request ID:

```code
# log in with an approved access request
$ tsh login --request-id=bc8ca931-fec9-4b15-9a6f-20c13c5641a9
```

In the web UI, the requestor can open their request on the **Review Requests**
page and click **ASSUME ROLES** to gain access to additional roles. Note:
role-based access requests are additive. The user will have access to their
standard role set in addition to the roles granted by the request.

![Approved Request](../../../assets/approved-request-c3f42e51fb.png)

A banner will appear at the top of the page while the approved access request is
active. When elevated access is no longer necessary, click **Switch Back** to revert
to the original set of roles.

![Assumed Roles](../../../assets/role-assumed-b7bf473d64.png)

## Next Steps

### Integrate with an external tool

With Teleport's Access Request plugins, users can manage Access Requests from
within your organization's existing messaging and project management solutions.

| Integration     | Type                | Setup Instructions                                                                     |
| --------------- | ------------------- | -------------------------------------------------------------------------------------- |
| Slack           | Messaging           | [Set up Slack](/access-controls/access-request-plugins/ssh-approval-slack)             |
| Mattermost      | Messaging           | [Set up Mattermost](/access-controls/access-request-plugins/ssh-approval-mattermost)   |
| Microsoft Teams | Messaging           | [Set up Microsoft Teams](/access-controls/access-request-plugins/ssh-approval-msteams) |
| Jira            | Project Board       | [Set up Jira](/access-controls/access-request-plugins/ssh-approval-jira)               |
| PagerDuty       | Schedule            | [Set up PagerDuty](/access-controls/access-request-plugins/ssh-approval-pagerduty)     |
| Email           | Messaging           | [Set up email](/access-controls/access-request-plugins/ssh-approval-email)             |
| Discord         | Messaging           | [Set up Discord](/access-controls/access-request-plugins/ssh-approval-discord)         |
| OpsGenie        | Incident Management | [Set up OpsGenie](/access-controls/access-request-plugins/opsgenie)                    |
| ServiceNow      | Workflow            | [Set up ServiceNow](/access-controls/access-request-plugins/servicenow)                |

### Learn how to configure Access Requests

See the [Access Request Configuration](/access-controls/access-requests/access-request-configuration) guide
for a detailed description of all the options you can configure to set up a
just-in-time Access Request workflow for your organization.

### Set up Access Lists

Access Lists enable you to assign privileges to groups of users for a fixed
period of time. Learn more about Access Lists in the
[documentation](/access-controls/access-lists).
